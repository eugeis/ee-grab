apply plugin: 'application'
mainClassName = 'ee.moodle.fx.MoodleApp'

dependencies {
    compile project(':ee-moodle')
    compile "no.tornado:tornadofx:$version_tornadofx"
}

jar {
    manifest {
        attributes(
                'Class-Path': configurations.compile.collect { it.getName() }.join(' '),
                'Main-Class': 'ee.moodle.fx.MoodleApp'
        )
    }
    from configurations.compile.collect { entry -> zipTree(entry) }
}

task copyDrivers(type: Copy) {
    from "$buildDir/../../ee-grab/drivers"
    into "$buildDir/drivers"
}

distributions {
    main {
        contents {
            from(copyDrivers) {
                into "drivers"
            }
        }
    }
}
